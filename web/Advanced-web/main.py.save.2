import bcrypt
from functools import wraps
from flask import Flask, render_template, url_for, redirect, request, session, flash
from flask import Flask

app = Flask(__name__)
aap.secret_key = 'AOZr98j/3yX R XHH!jmNJLWX/,?RT'

valid_email = 'valid@napier.ac.uk'
valid_pwhash = bcrypt.hashpw('secretpass', bcrypt.gensalt())

def check_auth(nm, pw):
	if(nm == valid_email and
		valid_pwash == bcrypt.hashpw(password.encode('utf-8'), valid_pwhash)):
		return True
	return False

def requires_login(f):
	@wraps(f)
	def decorated(*args, **kwargs):
		status = session.get('logged_in', False)
		if not status:
			return redirect(url_for('.root'))
		return f(*args, **kwargs)
	return decorated

@app.route('/logout/')



@app.route("/login", methods=["POST", "GET"])
def login():
    if request.method == "POST":
        user = request.form["nm"]
        return redirect(url_for("user", usr=user))
    else:          
        return render_template("login.html")

@app.route("/<usr>")
def user(usr):
    return f"<h1>{usr}</h1>"
    
@app . route ("/static-example/img")
def static_example_img () :
    start = "<img src" 
    url = url_for ('static', filename ='background.jpg')
    end = '" >'
    return start + url + end , 200

@app.route("/Home")
def home():
    return render_template("home.html")
    

@app.route("/Math")
def math():
    return render_template("math.html")

@app.route("/English")
def english():
    return render_template("english.html")

@app.route("/Science")
def science():
    return render_template("science.html")

@app.route("/History")
def history():
    return render_template("history.html")

@app.route("/Art")
def art():
    return render_template("art.html")

if __name__ == "__main__":
    app.run(debug=True)
